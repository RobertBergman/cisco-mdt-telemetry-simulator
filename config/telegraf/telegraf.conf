[global_tags]
  environment = "lab"

[agent]
  interval = "10s"
  round_interval = true
  metric_batch_size = 1000
  metric_buffer_limit = 10000
  collection_jitter = "0s"
  flush_interval = "10s"
  flush_jitter = "0s"
  precision = "0s"
  debug = true
  quiet = false
  hostname = "telegraf"
  omit_hostname = false

###############################################################################
#                            INPUT PLUGINS                                    #
###############################################################################

# Cisco MDT (Model-Driven Telemetry) Input
[[inputs.cisco_telemetry_mdt]]
  transport = "grpc"
  service_address = ":57500"

  [inputs.cisco_telemetry_mdt.tags]
    source = "cisco-telemetry"
    collector = "telegraf-docker"

###############################################################################
#                            OUTPUT PLUGINS                                   #
###############################################################################

# InfluxDB v2 Output
[[outputs.influxdb_v2]]
  urls = ["http://influxdb:8086"]
  token = "my-super-secret-token"
  organization = "netops"
  bucket = "telemetry"

  # Optional: Add tags to all metrics
  [outputs.influxdb_v2.tagpass]

# Debug output to stdout (useful for testing)
[[outputs.file]]
  files = ["stdout"]
  data_format = "influx"
